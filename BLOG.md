## 2025-11-09 - RUM SDK v6 Rollout
Datadog just published browser-sdk v6.23.0, so I started by querying the GitHub releases API to see exactly what changed and to confirm we should be targeting the v6 family instead of the older v5 builds. Once I had the release tag, I hopped onto the prod droplet and rewrote the Datadog nginx module stanza from `datadog_rum_config "v5"` to `"v6"`, then ran `nginx -t` to make sure there were no syntax surprises before reloading the service. The rest of the config (app ID, client token, service/env/version metadata, and the sampling flags) stayed untouched so the browser payload only changed in terms of SDK bits.

After the reload I spot-checked the public site with `curl -sk https://devtoolscrape.com | grep datadoghq-browser-agent` and saw the script now streams from `www.datadoghq-browser-agent.com/us1/v6/datadog-rum.js`, which confirms nginx is injecting the v6 drop-in. Because the Datadog module handles cache busting internally, we don’t have to worry about stale assets, and I logged the whole swap in `PROGRESS.md` so the next person knows why we jumped majors.

## 2025-11-09 - Correlating RUM With Traces
With the browser SDK on v6, the next step was to teach Datadog which origins deserve trace correlation. I followed their RUM+tracing guide and updated `/etc/nginx/nginx.conf` so the injected block now includes `"allowedTracingUrls" "[\"https://devtoolscrape.com\"]";`. After the edit I ran `nginx -t` and reloaded nginx. A quick curl of the production site shows `window.DD_RUM.init` now carries the `allowedTracingUrls` array (still JSON-encoded by the module), which means browser sessions can stitch themselves to backend spans whenever they POST through that origin.

## 2025-11-09 - Backing Out allowedTracingUrls
Tried to follow Datadog’s RUM/trace correlation doc by wiring `allowedTracingUrls` through the nginx module, but their injector serializes every value as a string. That meant the rendered snippet looked like `"allowedTracingUrls":"[\"https://devtoolscrape.com\"]"`, so the browser SDK threw `Allowed Tracing URLs should be an array` on every page load. Rather than keep hacking around it with brittle sub_filter rules, I pulled the directive out of `/etc/nginx/nginx.conf` and dropped the temporary template patch. After an `nginx -t && systemctl reload nginx`, curls against devtoolscrape.com show the RUM payload is back to the stock, supported fields, so we can revisit trace correlation later with a cleaner approach (likely inline JavaScript or a future module version that accepts arrays).
